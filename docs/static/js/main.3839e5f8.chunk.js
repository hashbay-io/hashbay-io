(this["webpackJsonphashbay.io"]=this["webpackJsonphashbay.io"]||[]).push([[0],{16:function(e,t,n){e.exports={home:"styles_home__3Pry2",header:"styles_header__1uJyZ",account:"styles_account__3HAcN",content:"styles_content__TyVSW",node:"styles_node__QyzUp",success:"styles_success__38IAe",timeline:"styles_timeline__2y33b",start:"styles_start__2Gijh",now:"styles_now__1JQHG",end:"styles_end__2IK0_",fill:"styles_fill__26uO6",btns:"styles_btns__2FILd",qa:"styles_qa__2R_Zq",qa__q:"styles_qa__q__m6quN",qa__a:"styles_qa__a__1z7Ho"}},186:function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"uint256","name":"initialSupply","type":"uint256"},{"internalType":"address","name":"initOwner","type":"address"},{"internalType":"uint256","name":"initStartDate","type":"uint256"},{"internalType":"uint256","name":"initEndDate","type":"uint256"},{"internalType":"string","name":"initContractName","type":"string"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"claimer","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"}],"name":"Claim","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"newStartDate","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"newEndDate","type":"uint256"}],"name":"NewDate","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"holder","type":"address"}],"name":"NewRecord","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"holder","type":"address"},{"indexed":false,"internalType":"uint256","name":"reward","type":"uint256"}],"name":"NewReward","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[],"name":"EXP_SCALE","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"claim","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"contractName","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"endDate","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"myReward","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"newStartDate","type":"uint256"},{"internalType":"uint256","name":"newEndDate","type":"uint256"}],"name":"setDate","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"startDate","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"stateMutability":"payable","type":"receive"}]')},187:function(e,t,n){e.exports=n(453)},192:function(e,t,n){},202:function(e,t){},211:function(e,t){},229:function(e,t){},231:function(e,t){},246:function(e,t){},248:function(e,t){},322:function(e,t){},324:function(e,t){},360:function(e,t){},362:function(e,t){},368:function(e,t){},451:function(e,t,n){e.exports=n.p+"static/media/logo_2x.82ac74ba.png"},452:function(e,t,n){},453:function(e,t,n){"use strict";n.r(t);var a,s,i,r=n(7),u=n.n(r),o=n(185),l=n.n(o),c=(n(192),n(95)),p=n.n(c),y=n(186),m=n(15),d=n.n(m),f=n(29),h=n(4),w=n(5),b=n(11),v=n(10),T=n(16),_=n.n(T),g=function(e){Object(b.a)(s,e);var t=Object(v.a)(s);function s(){var e;Object(h.a)(this,s);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={account:"",contractName:"",balance:"",symbol:"",start:"",end:"",reward:""},e.initPageData=function(){e.getAccount(),e.getContractName(),e.getSymbol(),e.getDate()},e.pageListen=function(t){clearInterval(a),a=setInterval((function(){e.getReward(t)}),15e3)},e.getAccount=Object(f.a)(d.a.mark((function t(){var n,a,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.web3,t.next=3,n.eth.getAccounts();case 3:if(!((a=t.sent).length<=0)){t.next=7;break}return console.log("\u672a\u68c0\u6d4b\u5230\u8d26\u6237"),t.abrupt("return");case 7:s=a[0],e.getBalance(s),e.getReward(s),e.setState({account:s},(function(){e.pageListen(s)}));case 11:case"end":return t.stop()}}),t)}))),e.getContractName=Object(f.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.props.contracts.HashBay.methods.contractName().call().then((function(t){e.setState({contractName:t})}));case 2:case"end":return t.stop()}}),t)}))),e.getBalance=function(){var t=Object(f.a)(d.a.mark((function t(n){var a,s,i,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props,s=a.web3,i=a.contracts,t.next=3,i.HashBay.methods.balanceOf(n).call();case 3:r=t.sent,e.setState({balance:s.utils.fromWei(r,"mwei")});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getSymbol=Object(f.a)(d.a.mark((function t(){var n,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.contracts,t.next=3,n.HashBay.methods.symbol().call();case 3:a=t.sent,e.setState({symbol:a});case 5:case"end":return t.stop()}}),t)}))),e.getDate=Object(f.a)(d.a.mark((function t(){var n,a,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.contracts,t.next=3,n.HashBay.methods.startDate().call();case 3:return a=t.sent,t.next=6,n.HashBay.methods.endDate().call();case 6:s=t.sent,e.setState({start:1e3*+a,end:1e3*+s});case 8:case"end":return t.stop()}}),t)}))),e.getReward=function(){var t=Object(f.a)(d.a.mark((function t(n){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.props.contracts.HashBay.methods.myReward().call({from:n}).then((function(t){e.setState({reward:t})}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.getTimeSchedule=function(){var t=e.state,n=t.start,a=t.end;if(!n||!a)return null;var s=new Date(n).getTime(),i=new Date(a).getTime();return+(((new Date).getTime()-s)/(i-s)*100).toFixed(2)},e.handleClickClaim=Object(f.a)(d.a.mark((function t(){var n,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.props.contracts,a=e.state.account;try{n.HashBay.methods.claim().send({from:a}).then((function(t){e.initPageData()}))}catch(s){console.log(s)}case 3:case"end":return t.stop()}}),t)}))),e.renderAccount=function(){var t=e.state.account;return u.a.createElement("div",{className:_.a.account},"".concat(t.substring(0,10),"...").concat(t.substring(t.length-10)))},e.renderTimeFormat=function(e,t){if(!t)return null;var n=new Date(t).toString().split(" ");return"".concat(e,": ").concat(n[1]," ").concat(n[2])},e}return Object(w.a)(s,[{key:"componentDidMount",value:function(){var e=this;this.initPageData();var t=window.ethereum,n=this.state.account;t&&t.on("accountsChanged",(function(t){t[0]!==n&&(e.setState({account:t[0]}),e.initPageData())}))}},{key:"render",value:function(){var e=this.props.web3,t=this.state,a=t.contractName,s=t.start,i=t.end,r=t.balance,o=t.symbol,l=t.reward,c=this.getTimeSchedule();return u.a.createElement("div",{className:_.a.home},u.a.createElement("header",{className:_.a.header},u.a.createElement("img",{src:n(451),alt:"hash bay"}),this.renderAccount()),u.a.createElement("div",{className:_.a.content},a?u.a.createElement("span",{className:_.a.node},u.a.createElement("span",{className:_.a.success}),u.a.createElement("span",null,a)):null,u.a.createElement("h2",{className:_.a.token},r?"".concat(r," ").concat(o):""),u.a.createElement("div",{className:_.a.timeline},u.a.createElement("span",{className:_.a.start},this.renderTimeFormat("start",parseInt(new Date(s).getTime(),10))),u.a.createElement("span",{className:_.a.now,style:{left:"".concat(s?c<22?22:c>80?80:c:5.6,"%")}},this.renderTimeFormat("now",parseInt((new Date).getTime(),10))),u.a.createElement("span",{className:_.a.end},this.renderTimeFormat("end",parseInt(new Date(i).getTime(),10))),u.a.createElement("div",{className:_.a.fill,style:{width:"".concat(c,"%")}})),u.a.createElement("h2",null,l?"".concat(e.utils.fromWei(l,"ether")," eth"):""),u.a.createElement("div",{className:_.a.btns},u.a.createElement("button",{onClick:this.handleClickClaim,disabled:0===+l},"CLAIM"))),u.a.createElement("div",{className:_.a.qa},u.a.createElement("ul",null,u.a.createElement("li",null,u.a.createElement("p",{className:_.a.qa__q},"What will happen if I do the ",u.a.createElement("strong",null,"CLAIM"),"?"),u.a.createElement("p",{className:_.a.qa__a},"You will get the cumulative ether.")),u.a.createElement("li",null,u.a.createElement("p",{className:_.a.qa__q},"What will happen if I do the TRANSFER?"),u.a.createElement("p",{className:_.a.qa__a},"You will give the right of mining to the one you give.")),u.a.createElement("li",null,u.a.createElement("p",{className:_.a.qa__q},"Will I lose my cumulative ether when I transfer my MHASH token?"),u.a.createElement("p",{className:_.a.qa__a},"NO. You will keep your cumulative ether. But you will lose the right to earn the future mining benefits.")))))}}]),s}(u.a.PureComponent);n(452);var E=function(){"undefined"!==typeof window.ethereum&&window.ethereum.enable(),s=new p.a(p.a.givenProvider),i={HashBay:new s.eth.Contract(y,"0x4986a9b27b62090222b2474b391fb6cf18538705")};var e={web3:s,contracts:i};return u.a.createElement("div",{className:"App"},u.a.createElement(g,e))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(u.a.createElement(u.a.StrictMode,null,u.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[187,1,2]]]);
//# sourceMappingURL=main.3839e5f8.chunk.js.map